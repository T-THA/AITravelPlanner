# Task 2.1 优化后测试清单

## 快速测试步骤

### ✅ 测试1: 登录错误提示
1. 访问: http://localhost:5174/login
2. 输入错误的邮箱/密码
3. 点击"登录"
4. **预期**: 看到 Modal 弹窗显示"登录失败 - 邮箱或密码错误"
5. **必须点击"我知道了"才能关闭**

---

### ✅ 测试2: 重复注册提示
1. 访问: http://localhost:5174/register
2. 输入已注册的邮箱
3. 点击"注册"
4. **预期**: 看到 Modal 弹窗显示"注册失败 - 该邮箱已被注册"
5. **提示清晰可见**

---

### ⭐ 测试3: 重置密码 - 输入相同密码 (核心测试)
1. 点击"忘记密码",输入邮箱
2. 收到邮件后点击重置链接
3. **输入与旧密码完全相同的新密码**
4. 点击"重置密码"
5. 打开浏览器控制台(F12) → Network 标签
6. **预期**: 
   - Network: `PUT .../auth/v1/user 422`
   - **Modal 弹窗**: "密码重置失败 - 新密码不可与旧密码一致"
   - Console: 显示详细错误日志
7. **这是本次优化的核心功能**

---

### ✅ 测试4: 退出登录提示
1. 登录后进入 Dashboard
2. 点击"退出登录"
3. **预期**: Modal 弹窗显示"退出成功 - 您已安全退出登录"
4. 点击"好的"后跳转到登录页

---

### ✅ 测试5: 所有成功提示
- 登录成功 → "登录成功 - 欢迎回来"
- 注册成功 → "注册成功 - 请检查邮箱"
- 重置密码成功 → "密码重置成功"

---

## 关键验证点

| 测试项 | 状态 | 说明 |
|--------|------|------|
| 错误提示可见性 | ✅ | Modal 强制弹窗,不可忽略 |
| 422错误显式提示 | ⭐ | "新密码不可与旧密码一致" |
| 成功提示清晰 | ✅ | Modal 居中显示 |
| 阻塞式确认 | ✅ | 必须点击才能继续 |

---

## 调试技巧

### 打开浏览器控制台查看日志:
- F12 (Windows) 或 Cmd+Option+I (Mac)
- 切换到 Console 标签
- 所有操作都有详细日志:
  - `Login response: {...}`
  - `Update password response: {...}`
  - `Login error details: {...}`

### 查看网络请求:
- F12 → Network 标签
- 执行操作
- 查看 HTTP 状态码(200, 422, 400等)

---

## 问题解决

如果提示仍然看不见:
1. 硬刷新页面: Ctrl+Shift+R (Windows) 或 Cmd+Shift+R (Mac)
2. 清除浏览器缓存
3. 检查控制台是否有 JavaScript 错误

---

测试完成后请在下方标注测试结果 ✅ 或 ❌
